<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>car</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
        
    <link rel="stylesheet" href="style-car.css">
</head>

<body>
    <header></header>
    <section class="car py-5">
        <div class="container">
            <div id="car">

            </div>
    </section>
    <footer></footer>


    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
        crossorigin="anonymous"></script>
        <script src="./js/getQueryParam.js"></script>
    <script type="module">
        import { inheader } from './componetat/header.js';
        import { initfooter } from './componetat/footer.js';
        import { getCar, composeCar } from './componetat/car.js'

        const fotot = [
  {
    id: 1,
    images: [
      "./cars/mitsubishi-2002-montero/first-img.jpg",
      "./cars/mitsubishi-2002-montero/second img.jpg",
      "./cars/mitsubishi-2002-montero/3 img.jpg",
    ],
  },
  {
    id: 2,
    images: ["./cars/volkswagen 2008 passat/1.jpg",
             "./cars/volkswagen 2008 passat/images2.jpg",
             "./cars/volkswagen 2008 passat/images3.jpg"
  
  ],
  },
  { id: 3, images: ["./cars/saturn 2003/images.jpg",
                    "./cars/saturn 2003/gg.jpg",
                    "./cars/saturn 2003/download.jpg"
] },
  {
    id: 4,
    images: ["./cars/jeep compass 2012/images.jpg",
             "./cars/jeep compass 2012/download.jpg",
            
             
  
  ],
  },
  {
    id: 5,
    images: ["./cars/mitsubishi lancer evolution 2002/1.jpg",
             "./cars/mitsubishi lancer evolution 2002/download.jpg",
             "./cars/mitsubishi lancer evolution 2002/download1.jpg"
  ],
  },
  {
    id: 6,
    images: ["./cars/cheverlet suburban 2009/download.jpg",
             "./cars/cheverlet suburban 2009/download 1.jpg",
            
  
         ]},
  {
    id: 7,
    images: ["./cars/dodge ram van b350 1994/download.jpg",
             "./cars/dodge ram van b350 1994/download1.jpg",
             "./cars/dodge ram van b350 1994/download2.jpg" 
  ],
  },
  {
    id: 8,
    images: ["./cars/isuzu ascender 2004/download.jpg",
             "./cars/isuzu ascender 2004/download1.jpg",
             "./cars/isuzu ascender 2004/download2.jpg"
  ],
  },
  {
    id: 9,
    images: ["./cars/bmw 6 series 2008/download.jpg:",
             "./cars/bmw 6 series 2008/download1.jpg:",
             "./cars/bmw 6 series 2008/download2.jpg:"
  
  
  ]},
  {
    id: 10,
    images: ["./cars/mitsubishi gto 1994/1.jpg",
             "./cars/mitsubishi gto 1994/download.jpg",
             "./cars/mitsubishi gto 1994/images.jpg"
  ],
  },
  {
    id: 11,
    images: ["./cars/mazda mazda5 2010/download.jpg",
             "./cars/mazda mazda5 2010/download1.jpg",
            "./cars/mazda mazda5 2010/download2.jpg"

  ],
  },
  {
    id: 12,
    images: ["./cars/audi q7 2012/download.jpg",
             "./cars/audi q7 2012/download1.jpg",
             "./cars/audi q7 2012/download2.jpg"
  ],
  },
  {
    id: 13,
    images: ["./cars/mercedes benz sl class 1989/images.jpg",
             "./cars/mercedes benz sl class 1989/images1.jpg",
             "./cars/mercedes benz sl class 1989/download2.jpg"
  
  ],
  },
  {
    id: 14,
    images: ["./cars/volvo c70 2012/images.jpg",
             "./cars/volvo c70 2012/download.jpg",
             "./cars/volvo c70 2012/download1.jpg"
  ],
  },
  {
    id: 15,
    images: ["./cars/gmc envoy xl 2006/download.jpg",
            "./cars/gmc envoy xl 2006/download1.jpg",
            "./cars/gmc envoy xl 2006/download1.jpg"
  ],
  },
  {
    id: 16,
    images: ["./cars/gmc vandura g3500 1996/1.jpg",
             "./cars/gmc vandura g3500 1996/download.jpg",
             "./cars/gmc vandura g3500 1996/download1.jpg"  
  ],
  },
  {
    id: 17,
    images: ["./cars/cadillac cts 2003/download.jpg",
             "./cars/cadillac cts 2003/download1.jpg",
             "./cars/cadillac cts 2003/download2.jpg"
  
  ],
  },
  {
    id: 18,
    images: ["./cars/bmw x5 m 2012/images.jpg",
             "./cars/bmw x5 m 2012/download.jpg",
             "./cars/bmw x5 m 2012/download1.jpg"
  
  ],
  },
  {
    id: 19,
    images: ["./cars/dodge viper 1999/download.jpg",
             "./cars/dodge viper 1999/download1.jpg",
             "./cars/dodge viper 1999/download1.jpg"

  ],
  },
  {
    id: 20,
    images: ["./cars/ford taurus 2002/images.jpg",
             "./cars/ford taurus 2002/images1.jpg",
             "./cars/ford taurus 2002/images2.jpg"
  
  ],
  },
];


        const paramsString = window.location.href.split('?')[1];
        const searchParams = new URLSearchParams(paramsString);




        inheader(document.querySelector('header'))


        if (searchParams.has('id')) {
            getCar(searchParams.get('id')).then(carData => {
                document.querySelector('#car').innerHTML = composeCar({...carData.Car, images:[...fotot[carData.Car.id - 1].images] })
                
          })  
        } else {
            window.location.href = 'http://127.0.0.1:5500'
        }

        initfooter(document.querySelector('footer'))
        
     

         addEventListener(document.body, 'click', function (e) {
           if (e.target && e.target.id === 'add-to-favorites') {
           alert('hi');
          }
         });

  
        

    </script>
</body>

</html>